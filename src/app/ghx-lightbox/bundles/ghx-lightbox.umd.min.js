!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ghx-lightbox",["exports","@angular/core","rxjs","@angular/common"],e):e((t=t||self)["ghx-lightbox"]={},t.ng.core,t.rxjs,t.ng.common)}(this,(function(t,e,n,o){"use strict";var i=function(){function t(){this.allItems$=new n.BehaviorSubject([]),this.allItemsLength=0,this.openedIndex=0,this.changeIndex$=new n.BehaviorSubject(0)}return t.prototype.destroy=function(){this.componentRef.destroy(),document.querySelector("body").classList.remove("ghx-lightbox-opened")},t.prototype._setupComponentInstance=function(t){this.componentRef.instance.src=t[this.openedIndex].src,this.componentRef.instance.caption=t[this.openedIndex].caption},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var r=function(){function t(t,e,n){this.viewContainerRef=t,this.glService=e,this.render2=n,this.src="",this.caption="",this.captionPosition="bottom",this.showPrevNextButton=!1}return t.prototype.onWindowResize=function(){this.setImageHeight()},t.prototype.ngOnInit=function(){},t.prototype.ngAfterContentInit=function(){this.setImageHeight()},t.prototype.closeLightBox=function(){this.glService.destroy()},t.prototype.setImageHeight=function(){var t=window.innerHeight-100;this.render2.setStyle(this.lightboxImage.nativeElement,"max-height",t+"px")},t.decorators=[{type:e.Component,args:[{selector:"ghx-lightbox",template:'<div class="ghx-lightbox">\n  <div class="lightbox-overlay" (click)="closeLightBox()"></div>\n  <div class="lightbox-container">\n    <div class="inner-container">\n      <div class="lightbox-caption {{captionPosition}}" #lightCaption>\n        <h3>{{caption}}</h3>\n      </div>\n      <figure #lightBoxFigure>\n        <img [src]="src" [alt]="caption" #lightboxImage>\n      </figure>\n    </div>\n  </div>\n\n  <ng-container *ngIf="showPrevNextButton">\n    <ghx-lightbox-nav></ghx-lightbox-nav>\n  </ng-container>\n  <div class="lightbox-actions">\n    <ghx-lightbox-actions></ghx-lightbox-actions>\n  </div>\n</div>\n',encapsulation:e.ViewEncapsulation.None,styles:[".lightbox-overlay{z-index:9999;background-color:rgba(0,0,0,.7);width:100%;height:100%;position:fixed;top:0;left:0;right:0;bottom:0;margin:auto}.ghx-lightbox{position:fixed;top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;z-index:9999;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.ghx-lightbox .lightbox-container{position:absolute;display:flex;align-items:center;justify-content:center;max-width:100%;z-index:10000;padding:25px;box-sizing:inherit}.ghx-lightbox .lightbox-container .inner-container{max-width:100%;position:relative}.ghx-lightbox .lightbox-container figure{height:100%}.ghx-lightbox .lightbox-container figure img{max-width:100%;max-height:100%}.ghx-lightbox .lightbox-container .lightbox-caption{color:#fff;position:absolute;box-sizing:border-box;left:0;width:100%}.ghx-lightbox .lightbox-container .lightbox-caption.top{padding:15px 15px 30px;top:0;background:linear-gradient(to top,rgba(0,0,0,0),#000)}.ghx-lightbox .lightbox-container .lightbox-caption.bottom{padding:30px 15px 15px;bottom:0;background:linear-gradient(to bottom,rgba(0,0,0,0),#000)}.ghx-lightbox .lightbox-container .lightbox-caption h3{word-break:break-all;line-height:1.2;font-size:18px;letter-spacing:.5px}.ghx-lightbox .lightbox-actions{position:fixed;top:0;right:0;z-index:9999}",'@font-face{font-family:Lightbox;src:url(lightbox.eot);src:url(lightbox.eot?#iefix) format("embedded-opentype"),url(lightbox.woff) format("woff"),url(lightbox.ttf) format("truetype"),url(lightbox.svg#Lightbox) format("svg");font-weight:400;font-style:normal}[data-icon]:before{font-family:Lightbox!important;content:attr(data-icon);font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[class*=" icon-"]:before,[class^=icon-]:before{font-family:Lightbox!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-close:before{content:"a"}.icon-zoom-in:before{content:"b"}.icon-zoom-out:before{content:"c"}.icon-angle-double-left:before{content:"d"}.icon-angle-double-right:before{content:"e"}body.ghx-lightbox-opened{overflow:hidden}']}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:i},{type:e.Renderer2}]},t.propDecorators={src:[{type:e.Input}],caption:[{type:e.Input}],captionPosition:[{type:e.Input}],showPrevNextButton:[{type:e.Input}],lightCaption:[{type:e.ViewChild,args:["lightCaption",{static:!0}]}],lightBoxFigure:[{type:e.ViewChild,args:["lightBoxFigure",{static:!0}]}],lightboxImage:[{type:e.ViewChild,args:["lightboxImage",{static:!0}]}],onWindowResize:[{type:e.HostListener,args:["window:resize"]}]},t}();var s=function(){function t(t){this.gls=t}return t.prototype.ngOnInit=function(){},t.prototype.onCloseLightBox=function(){this.gls.destroy()},t.decorators=[{type:e.Component,args:[{selector:"ghx-lightbox-actions",template:'<div class="lightbox-actions-list">\n  <ul>\n    <li>\n      <a href="javascript:;" (click)="onCloseLightBox()">\n        <span class="icon-close"></span>\n      </a>\n    </li>\n  </ul>\n</div>\n',styles:[".lightbox-actions-list ul{list-style:none;display:flex;align-items:center}.lightbox-actions-list ul li a{background-color:#000;color:#fff;padding:5px;width:35px;height:35px;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;font-size:24px;box-sizing:border-box}.lightbox-actions-list ul li a span{display:inline-block;line-height:0}.lightbox-actions-list ul li a:hover{text-decoration:none}"]}]}],t.ctorParameters=function(){return[{type:i}]},t}();var a=function(){function t(t){this.gls=t}return t.prototype.ngOnInit=function(){},t.prototype.goToPrev=function(){0!==this.gls.openedIndex&&(this.gls.openedIndex=this.gls.openedIndex-1,this.gls.changeIndex$.next(this.gls.openedIndex))},t.prototype.goToNext=function(){this.gls.openedIndex>=this.gls.allItemsLength||(this.gls.openedIndex=this.gls.openedIndex+1,this.gls.changeIndex$.next(this.gls.openedIndex))},t.decorators=[{type:e.Component,args:[{selector:"ghx-lightbox-nav",template:'<div class="ghx-lightbox-nav-button">\n  <ng-container *ngIf="gls.openedIndex > 0">\n    <a href="javascript:;" class="lightbox-prev" (click)="goToPrev()">\n      <span class="icon-angle-double-left"></span>\n    </a>\n  </ng-container>\n\n  <ng-container *ngIf="gls.openedIndex < (gls.allItemsLength - 1)">\n    <a href="javascript:;" class="lightbox-next" (click)="goToNext()">\n      <span class="icon-angle-double-right"></span>\n    </a>\n  </ng-container>\n</div>\n',styles:[".ghx-lightbox-nav-button a{position:fixed;top:0;bottom:0;margin:auto 0;background-color:#000;color:#fff;padding:5px;width:35px;height:35px;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;font-size:24px;box-sizing:border-box;z-index:10000}.ghx-lightbox-nav-button a.lightbox-prev{left:0}.ghx-lightbox-nav-button a.lightbox-next{right:0}.ghx-lightbox-nav-button a span{display:inline-block;line-height:0}.ghx-lightbox-nav-button a:hover{text-decoration:none}"]}]}],t.ctorParameters=function(){return[{type:i}]},t}();var l=function(){function t(t,e,n,o,i,r){this.elemRef=t,this.glService=e,this.render2=n,this.cfr=o,this.appRef=i,this.injector=r,this.src="",this.alt="",this.elemRef.nativeElement.classList.add("ghx-lightbox-item")}return t.prototype.onClick=function(t,e){if(void 0===e&&(e=0),null===this.elemRef.nativeElement.closest(".ghx-lightbox-group")){this.glService.openedIndex=0;var n=[{src:this.src,caption:this.alt}];this.initLightBox(n)}},Object.defineProperty(t.prototype,"bindClass",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.render2.setStyle(this.elemRef.nativeElement,"cursor","pointer")},t.prototype.initLightBox=function(t){var e=this.cfr.resolveComponentFactory(r).create(this.injector);this.appRef.attachView(e.hostView);var n=e.hostView.rootNodes[0];document.body.appendChild(n),this.glService.componentRef=e,this.glService._setupComponentInstance(t),document.querySelector("body").classList.add("ghx-lightbox-opened")},t.decorators=[{type:e.Directive,args:[{selector:"[ghxLightbox]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:i},{type:e.Renderer2},{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector}]},t.propDecorators={src:[{type:e.Input}],alt:[{type:e.Input}],onClick:[{type:e.HostListener,args:["click"]}],bindClass:[{type:e.HostBinding,args:["class.ghx-lightbox-item"]}]},t}();var c=function(){function t(t,e,o,i,r){this.elemRef=t,this.glService=e,this.cfr=o,this.injector=i,this.appRef=r,this.allItems$=new n.BehaviorSubject([]),this.elemRef.nativeElement.classList.add("ghx-lightbox-group")}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterContentInit=function(){var t=this,e=[];this.gldList.toArray().forEach((function(t,n){e.push({src:t.src,caption:t.alt})})),this.allItems$.next(e),this.glService.allItemsLength=e.length,this.elemRef.nativeElement.querySelectorAll(".ghx-lightbox-item").forEach((function(e,n){e.addEventListener("click",(function(e){e.preventDefault(),t.glService.openedIndex=n,t.initLightBox(),t.changeNavigation()}))}))},Object.defineProperty(t.prototype,"bindClass",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.initLightBox=function(){var t=this.cfr.resolveComponentFactory(r).create(this.injector);this.appRef.attachView(t.hostView);var e=t.hostView.rootNodes[0];document.body.appendChild(e),this.glService.componentRef=t,this.glService._setupComponentInstance(this.allItems$.value),this.glService.componentRef.instance.showPrevNextButton=!0,document.querySelector("body").classList.add("ghx-lightbox-opened")},t.prototype.changeNavigation=function(){var t=this;this.glService.changeIndex$.subscribe((function(e){t.glService._setupComponentInstance(t.allItems$.value)}))},t.decorators=[{type:e.Directive,args:[{selector:"[ghxLightboxGroup]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:i},{type:e.ComponentFactoryResolver},{type:e.Injector},{type:e.ApplicationRef}]},t.propDecorators={gldView:[{type:e.ViewChildren,args:[l]}],gldList:[{type:e.ContentChildren,args:[l]}],bindClass:[{type:e.HostBinding,args:["class.ghx-lightbox-group"]}]},t}();var g=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[r,l,c,s,a],imports:[o.CommonModule],exports:[l,c],entryComponents:[r],providers:[i]}]}],t}();t.GhxLightboxDirective=l,t.GhxLightboxGroupDirective=c,t.GhxLightboxModule=g,t.ɵa=r,t.ɵb=s,t.ɵc=a,t.ɵd=i,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ghx-lightbox.umd.min.js.map